@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root{
	--bg-gradient-start: #f8fafc;
	--bg-gradient-end: #f1f5f9;
	--card-bg: #ffffff;
	--muted: #6b7280;
	--primary: #6366f1;
	--text-color: #0f172a;
	--toggle-bg: transparent;
	--toggle-border: rgba(15,23,42,0.06);
	--toggle-color: #0f172a;
}

/* Blue theme overrides */
:root[data-theme="blue"]{
	--bg-gradient-start: #eef2ff;
	--bg-gradient-end: #e6f0ff;
	--card-bg: #f8fbff;
	--muted: #475569;
	--primary: #0ea5e9; /* accent blue */
}

/* Night / Blue-night theme */
:root[data-theme="night"]{
	--bg-gradient-start: #031028;
	--bg-gradient-end: #021027;
	--card-bg: #04182b;
	--muted: #9fb4d6;
	--primary: #38bdf8;
	--text-color: #e6f2ff;
	--toggle-bg: rgba(255,255,255,0.02);
	--toggle-border: rgba(255,255,255,0.12);
	--toggle-color: #e6f2ff;
}

html,body,#root{
	height:100%;
}

body{
	background: linear-gradient(to bottom, var(--bg-gradient-start), var(--bg-gradient-end));
	color: var(--text-color);
	font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
}

/* reusable card */
.card{
	background: var(--card-bg);
	border-radius: 0.75rem;
	box-shadow: 0 10px 30px rgba(2,6,23,0.08);
	padding: 1rem;
	border: 1px solid rgba(0,0,0,0.03);
}

/* Smooth but subtle motion for cards and interactive elements */
.card, .btn-primary, .theme-toggle, .action-btn, .sidebar-link {
  transition: background-color 180ms ease, transform 160ms ease, box-shadow 180ms ease;
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .card, .btn-primary, .theme-toggle, .action-btn, .sidebar-link { transition: none !important; }
}

.muted { color: var(--muted); }

/* Focus and keyboard accessibility */
:focus { outline: none; }
:focus-visible { outline: 3px solid rgba(56,189,248,0.18); outline-offset: 2px; }

.theme-toggle:focus-visible, .action-btn:focus-visible, .sidebar-link:focus-visible, button:focus-visible, a:focus-visible, input:focus-visible, select:focus-visible {
	box-shadow: 0 0 0 3px rgba(56,189,248,0.12);
}

/* High-contrast support (user agent or OS setting) */
@media (prefers-contrast: more) {
	.card { box-shadow: none; border: 1px solid rgba(255,255,255,0.06); }
	.sidebar-link:hover { background: rgba(255,255,255,0.06); }
}

.btn-primary{
	display: inline-flex;
	align-items: center;
	padding: 0.375rem 0.75rem;
	border-radius: 0.375rem;
	background-color: var(--primary);
	color: white;
	font-weight: 600;
	font-size: 0.875rem;
	transition: background-color .15s ease;
}
.btn-primary:hover{ background-color: #4f46e5 }

.sidebar-link{
	display:flex;
	align-items:center;
	gap:0.75rem;
	padding:0.5rem 0.75rem;
	border-radius:0.375rem;
	color:var(--text-color);
}
.sidebar-link:hover{ background: rgba(255,255,255,0.03) }

/* Tree view helpers */
.proc-indent { display:inline-block; width:1rem; }
.proc-row { transition: background-color 120ms ease; }
.proc-row:hover { background: rgba(255,255,255,0.02); }
.proc-toggle { cursor:pointer; display:inline-flex; align-items:center; justify-content:center; width:20px; height:20px; }
.proc-name { display:inline-flex; align-items:center; gap:0.5rem; }


.sidebar-active{
	background: rgba(99,102,241,0.06);
	color: #4338ca;
	font-weight:600;
}

.card-ghost{
	background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.3));
	border: 1px solid rgba(255,255,255,0.5);
}

/* Table / Process list improvements */
.process-table{ width:100%; border-collapse:collapse; }
.process-table thead th{ text-align:left; padding:0.5rem; font-weight:600; color:var(--text-color) }
.process-table tbody td{ padding:0.5rem; border-top:1px solid rgba(255,255,255,0.04); color:var(--text-color) }
.process-table tbody tr:hover{ background: rgba(255,255,255,0.02) }
.process-table tbody tr:nth-child(odd){ background: rgba(255,255,255,0.01) }
.action-btn{ padding:6px 8px; border-radius:6px; border:1px solid rgba(255,255,255,0.04); background:var(--card-bg); cursor:pointer; font-size:0.85rem }
.action-btn.kill{ background:#fff1f0; color:#b91c1c; border-color: rgba(185,28,28,0.08) }
.action-btn.renice{ background:#fffbeb; color:#92400e; border-color: rgba(146,64,14,0.08) }
.process-meta{ color: var(--muted); font-size:0.85rem }

/* header adjustments */
.header-title{ font-weight:700; color:var(--primary); font-size:1.25rem }
.header-bar{ display:flex; align-items:center; justify-content:space-between }

/* Theme toggle button */
.theme-toggle{
	display:inline-flex;
	align-items:center;
	justify-content:center;
	width:36px;
	height:36px;
	border-radius:8px;
	background: var(--toggle-bg);
	border:1px solid var(--toggle-border);
	color: var(--toggle-color);
}
.theme-toggle svg{ width:18px; height:18px }

/* Global container */
.container { max-width: 1200px; margin-left: auto; margin-right: auto; }

/* Topbar / header */
.topbar { display:flex; align-items:center; justify-content:space-between; gap:1rem; padding:0.5rem 0; }
.brand { display:inline-flex; align-items:center; gap:0.75rem; font-weight:700; color:var(--primary); }
.brand .logo { width:40px; height:40px; border-radius:10px; background:linear-gradient(135deg,var(--primary), #7dd3fc); display:inline-block; box-shadow: 0 6px 18px rgba(2,6,23,0.06) }
.server-pill { background: rgba(255,255,255,0.03); padding:0.25rem 0.6rem; border-radius:999px; font-size:0.85rem; color:var(--muted); border:1px solid rgba(255,255,255,0.03) }

/* Topbar visual */
.topbar.card { padding:12px 16px; align-items:center }
.topbar .btn { padding:0.4rem 0.6rem }
.topbar .theme-toggle { border-radius:8px; padding:6px }
.topbar .logo { margin-right:6px }

.brand { font-size:1rem }

/* Buttons */
.btn { display:inline-flex; align-items:center; gap:0.5rem; padding:0.5rem 0.75rem; border-radius:0.5rem; font-weight:600; cursor:pointer; }
.btn-primary { background:var(--primary); color:white; border: none }
.btn-ghost { background: transparent; border: 1px solid rgba(255,255,255,0.04); color: var(--text-color) }
.btn-danger { background: #ef4444; color: white }

/* Table improvements */
.process-table { border-collapse: separate; border-spacing: 0 6px }
.process-table thead th { background: transparent; }
.process-table tbody tr { background: var(--card-bg); border-radius: 6px; }
.process-table tbody td { vertical-align: middle }

/* Scrollbar subtle styling */
::-webkit-scrollbar { height:10px; width:10px }
::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.12); border-radius:8px }
::-webkit-scrollbar-track { background: transparent }

/* Small responsive tweaks */
@media (max-width: 768px) {
	.brand .text { display:none }
	.container { padding: 0 0.75rem }
}

/* Metric visuals */
.metric { display:flex; flex-direction:column; gap:0.5rem }
.metric-head { display:flex; align-items:center; justify-content:space-between }
.metric-label { display:flex; align-items:center; gap:0.5rem; color:var(--muted); font-size:0.9rem }
.metric-value { font-size:1.25rem; font-weight:700; color:var(--text-color) }
.metric-bar { height:8px; background: linear-gradient(90deg, rgba(99,102,241,0.9), rgba(56,189,248,0.9)); border-radius:999px; box-shadow: inset 0 -2px 6px rgba(0,0,0,0.05) }
.metric-bar-bg { height:8px; background: rgba(0,0,0,0.04); border-radius:999px; overflow:hidden }

/* Info tooltip */
.info-icon { display:inline-flex; align-items:center; justify-content:center; width:18px; height:18px; border-radius:6px; background: rgba(0,0,0,0.04); color:var(--muted); font-size:12px; cursor:help; position:relative }
.info-icon:focus { outline: none }
.info-icon:hover .tooltip, .info-icon:focus .tooltip { opacity:1; transform:translateY(0); pointer-events:auto }
.tooltip { position:absolute; right:calc(100% + 8px); top:50%; transform:translateY(-50%) translateY(6px); background: rgba(15,23,42,0.95); color:white; padding:8px 10px; border-radius:8px; font-size:12px; width:220px; opacity:0; transition:opacity .12s ease, transform .12s ease; pointer-events:none; z-index:40 }
.tooltip::after { content:''; position:absolute; left:100%; top:50%; transform:translateY(-50%); width:0; height:0; border-left:6px solid rgba(15,23,42,0.95); border-top:6px solid transparent; border-bottom:6px solid transparent }

@media (max-width: 640px) {
	.tooltip { display:none }
}

/* Processes section styling */
.processes-toolbar { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:0.5rem }
.search-input { padding:0.5rem 0.6rem; border-radius:8px; border:1px solid rgba(15,23,42,0.06); background: rgba(255,255,255,0.02); color:var(--text-color); min-width:200px }
.search-input:focus { box-shadow:0 0 0 4px rgba(56,189,248,0.06); outline:none }
.select-input { padding:0.4rem 0.5rem; border-radius:8px; border:1px solid rgba(15,23,42,0.06); background:transparent }
.btn-ghost { padding:0.4rem 0.6rem; border-radius:8px }

.proc-header { display:flex; align-items:center; gap:8px; color:var(--muted); font-size:0.9rem }
.proc-header .controls { display:flex; gap:8px; align-items:center }

/* Table header visual */
.process-table thead th { text-transform:uppercase; font-size:0.75rem; letter-spacing:0.02em; color:var(--muted); padding:0.6rem }
.process-table thead th:first-child { padding-left:1rem }

/* Row card style */
.process-table tbody tr { box-shadow: 0 4px 14px rgba(2,6,23,0.04); transition: transform 120ms ease, box-shadow 120ms ease }
.process-table tbody tr:hover { transform: translateY(-2px); box-shadow: 0 8px 26px rgba(2,6,23,0.06) }
.process-table tbody td { padding:0.75rem 0.8rem }
.process-name { font-weight:600; color:var(--text-color) }
.proc-sub { color:var(--muted); font-size:0.85rem }

/* Sticky header when scrolling the table */
.process-table thead { position: sticky; top: 0; background: transparent; z-index: 10 }

/* Actions */
.action-btn { padding:6px 10px; border-radius:8px; border:none; font-weight:600; cursor:pointer }
.action-btn.kill { background: rgba(239,68,68,0.12); color:#ef4444 }
.action-btn.renice { background: rgba(245,158,11,0.08); color:#d97706 }
.action-btn:focus-visible { box-shadow: 0 0 0 4px rgba(56,189,248,0.08) }

/* Compact layout for PID and small columns */
.col-pid { width:64px }
.col-cpu { width:90px; text-align:right }
.col-mem { width:110px; text-align:right }
.col-actions { width:180px }

/* Command column: allow wrapping and show full command text */
.col-command { max-width: 520px; white-space: normal; word-break: break-word; }
.process-table td.col-command { vertical-align: top }

@media (max-width: 900px) {
	.processes-toolbar { flex-direction:column; align-items:flex-start }
	.search-input { width:100% }
}

/* Ensure the processes table can show many configurable columns and scroll horizontally when needed */
.process-table { min-width: 1100px; table-layout: auto; }
.overflow-auto > .process-table { min-width: 1100px; }
.process-table th, .process-table td { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.process-table td { max-width: 340px; }
.process-table .col-actions { white-space: normal }
.process-table { width: auto }

/* allow horizontal scroll on the table container for many columns */
.overflow-auto { overflow-x: auto }

/* Ensure native select text is visible in night theme and options are readable */
:root[data-theme="night"] .select-input {
	color: var(--process-text);
	background: rgba(255,255,255,0.02);
	border: 1px solid rgba(255,255,255,0.04);
	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;
}

:root[data-theme="night"] .select-input option {
	color: var(--process-text);
	background: rgba(4,24,43,0.65);
}

/* for some browsers the dropdown arrow may be inverted on dark backgrounds */
:root[data-theme="night"] .select-input::-ms-expand { filter: invert(1); }

/* ensure placeholder-like disabled option is slightly muted but still readable */
:root[data-theme="night"] .select-input option[disabled] { color: rgba(230,242,255,0.6) }

/* Stronger contrast for night theme in the processes section */
:root[data-theme="night"] {
	--process-header: rgba(230,242,255,0.92);
	--process-text: #e6f2ff;
	--process-muted: rgba(159,180,214,0.78);
	--process-row-hover: rgba(255,255,255,0.04);
}

:root[data-theme="night"] .process-table thead th { color: var(--process-header); }
:root[data-theme="night"] .process-table tbody td { color: var(--process-text); }
:root[data-theme="night"] .process-name { color: var(--process-text); }
:root[data-theme="night"] .proc-sub { color: var(--process-muted); }
:root[data-theme="night"] .process-table tbody tr { background: rgba(255,255,255,0.01); }
:root[data-theme="night"] .process-table tbody tr:hover { background: var(--process-row-hover); }

/* Inputs and controls */
:root[data-theme="night"] .search-input,
:root[data-theme="night"] .select-input { background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.04); color:var(--process-text) }

/* Buttons: make actions clearly visible in dark mode */
:root[data-theme="night"] .action-btn { background: rgba(255,255,255,0.02); color: var(--process-text); border:1px solid rgba(255,255,255,0.03) }
:root[data-theme="night"] .action-btn.kill { background: linear-gradient(180deg, rgba(239,68,68,0.12), rgba(239,68,68,0.06)); color: #ffd6d6; border-color: rgba(239,68,68,0.18) }
:root[data-theme="night"] .action-btn.renice { background: linear-gradient(180deg, rgba(245,158,11,0.08), rgba(245,158,11,0.04)); color: #ffedd5; border-color: rgba(245,158,11,0.12) }

/* Make header buttons and pills more pronounced */
:root[data-theme="night"] .server-pill { background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.04); color: var(--process-muted) }
:root[data-theme="night"] .btn-ghost { border:1px solid rgba(255,255,255,0.04); color: var(--process-text) }

/* Ensure tooltip text is readable when triggered from dark table */
:root[data-theme="night"] .tooltip { background: rgba(2,6,23,0.96); color: #f8fafc }

/* Bigger UI blocks overrides (improves visibility and spacing) */
/* These overrides intentionally placed last to avoid conflicting with earlier rules */
.container { max-width: 1400px; padding-left: 16px; padding-right: 16px }
.card { padding: 1.25rem !important; border-radius: 0.9rem !important; box-shadow: 0 12px 36px rgba(2,6,23,0.09) !important }
.topbar.card { padding: 16px 20px !important }
.brand .logo { width:56px !important; height:56px !important; border-radius:12px !important }
.theme-toggle { width:44px !important; height:44px !important; border-radius:10px !important }
.btn-primary { padding: 0.6rem 1rem !important; border-radius:0.5rem !important; font-size:0.95rem !important; font-weight:700 !important }
.btn { padding: 0.6rem 0.9rem !important }
.metric-value { font-size:1.5rem !important; font-weight:800 !important }
.metric-bar, .metric-bar-bg { height:12px !important }
.processes-toolbar { gap: 16px !important }
.search-input { min-width: 260px !important; padding: 0.6rem 0.8rem !important }
.select-input { padding: 0.5rem 0.6rem !important }
.process-table thead th { padding: 0.75rem !important }
.process-table tbody td { padding: 0.9rem 1rem !important; font-size: 0.97rem }
.process-table tbody tr { border-radius: 8px !important }
.process-table tbody tr:hover { transform: translateY(-2px) scale(1.001) }
.action-btn { padding: 8px 12px !important; border-radius:10px !important; font-size:0.95rem !important }
.col-pid { width: 96px !important }
.col-cpu { width: 120px !important }
.col-mem { width: 160px !important }
.col-actions { width: 240px !important }
.col-command { max-width: 720px !important }

/* Increase table container height for more rows visible */
.overflow-auto { max-height: 76vh !important; }

/* Improve contrast and spacing for night mode controls */
:root[data-theme="night"] .search-input, :root[data-theme="night"] .select-input { padding: 0.6rem 0.8rem }

